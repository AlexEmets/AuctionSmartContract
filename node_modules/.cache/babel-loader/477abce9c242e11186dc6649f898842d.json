{"ast":null,"code":"var _jsxFileName = \"/home/oleksandr/Documents/University/guessName/guessGame/src/form/Form.js\",\n    _s = $RefreshSig$();\n\nimport { useWeb3React } from \"@web3-react/core\";\nimport { injected } from '../components/wallet/connectors';\nimport { useEffect, useState } from 'react';\nimport Web3 from 'web3';\nimport { abi } from '../components/contract/abi';\nimport { contractAddress } from '../components/contract/address';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst weiInEth = 1000000000000000000;\nexport default function TransferForm() {\n  _s();\n\n  const {\n    active,\n    account,\n    library,\n    connector,\n    activate,\n    deactivate\n  } = useWeb3React();\n  const [diff, setDiff] = useState();\n  const [amount, setAmount] = useState();\n  const [salt, setSalt] = useState();\n  const [status, setStatus] = useState();\n\n  async function connect() {\n    try {\n      await activate(injected);\n    } catch (ex) {\n      console.log(ex);\n    }\n  }\n\n  async function disconnect() {\n    try {\n      deactivate();\n    } catch (ex) {\n      console.log(ex);\n    }\n  }\n\n  useEffect(() => {\n    const web3 = new Web3(window.ethereum);\n    window.ethereum.enable().then(() => {\n      const contract = new web3.eth.Contract(abi, contractAddress);\n      contract.methods.current_diff().call((err, result) => {\n        if (err) {\n          console.log(err);\n        } else {\n          if (result == 0) setStatus(String('The guess game is not active'));else setStatus(String('Current difficulty: ' + result));\n        }\n      });\n    });\n  }, []);\n\n  const onDiffChange = e => {\n    setDiff(e.target.value);\n  };\n\n  const onAmountChange = e => {\n    setAmount(Number(e.target.value));\n  };\n\n  const onSaltChange = e => {\n    setSalt(Number(e.target.value));\n  };\n\n  const start = async () => {\n    const web3 = new Web3(window.ethereum);\n    await window.ethereum.enable();\n    const contract = new web3.eth.Contract(abi, contractAddress);\n    contract.methods.newGuessGame(diff).send({\n      from: account,\n      value: amount * weiInEth\n    }, function (error, transactionHash) {\n      if (error) {\n        alert('Error: ' + error);\n      } else {\n        alert('Tx hash: ' + transactionHash);\n      }\n    });\n  };\n\n  const guess = async () => {\n    const web3 = new Web3(window.ethereum);\n    await window.ethereum.enable();\n    const contract = new web3.eth.Contract(abi, contractAddress);\n    contract.methods.trySolve(salt).send({\n      from: account\n    }, function (error, transactionHash) {\n      if (error) {\n        alert('Error: ' + error);\n      } else {\n        alert('Tx hash: ' + transactionHash);\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: 'flex',\n      flexDirection: 'column',\n      width: '50%',\n      justifyContent: 'center',\n      textAlign: 'left',\n      marginTop: '100px',\n      backgroundColor: '#b0e5ff',\n      padding: '50px',\n      borderRadius: '35px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      style: {\n        alignSelf: 'center'\n      },\n      children: [\" \", status, \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      children: [\"Your address: \", active ? /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          alignSelf: 'flex-end'\n        },\n        children: account\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 43\n      }, this) : '']\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-around'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: connect,\n        children: \"Connect\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: disconnect,\n        children: \"Disconnect\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Difficulty (between 1 and 4) \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      onChange: onDiffChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"ETH Amount(min 0.01 ETH)\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      onChange: onAmountChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      style: {\n        width: '50%',\n        alignSelf: 'center',\n        margin: '10px',\n        height: '45px',\n        borderRadius: '15px'\n      },\n      onClick: start,\n      children: \"Start game\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Salt\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      onChange: onSaltChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      style: {\n        width: '50%',\n        alignSelf: 'center',\n        margin: '10px',\n        height: '45px',\n        borderRadius: '15px'\n      },\n      onClick: guess,\n      children: \"Guess!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 96,\n    columnNumber: 9\n  }, this);\n}\n\n_s(TransferForm, \"/FpvuST0xsmMWLh3A2zPyqNvA/8=\", false, function () {\n  return [useWeb3React];\n});\n\n_c = TransferForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"TransferForm\");","map":{"version":3,"names":["useWeb3React","injected","useEffect","useState","Web3","abi","contractAddress","weiInEth","TransferForm","active","account","library","connector","activate","deactivate","diff","setDiff","amount","setAmount","salt","setSalt","status","setStatus","connect","ex","console","log","disconnect","web3","window","ethereum","enable","then","contract","eth","Contract","methods","current_diff","call","err","result","String","onDiffChange","e","target","value","onAmountChange","Number","onSaltChange","start","newGuessGame","send","from","error","transactionHash","alert","guess","trySolve","display","flexDirection","width","justifyContent","textAlign","marginTop","backgroundColor","padding","borderRadius","alignSelf","alignItems","margin","height"],"sources":["/home/oleksandr/Documents/University/guessName/guessGame/src/form/Form.js"],"sourcesContent":["import { useWeb3React } from \"@web3-react/core\";\nimport { injected } from '../components/wallet/connectors';\nimport {useEffect, useState} from 'react';\nimport Web3 from 'web3';\nimport { abi } from '../components/contract/abi';\nimport { contractAddress } from '../components/contract/address';\n\nconst weiInEth = 1000000000000000000;\n\nexport default function TransferForm() {\n    const { active, account, library, connector, activate, deactivate } = useWeb3React();\n    const [diff, setDiff] = useState();\n    const [amount, setAmount] = useState();\n    const [salt, setSalt] = useState();\n    const [status, setStatus] = useState()\n\n    async function connect() {\n        try {\n            await activate(injected);\n        } catch (ex) {\n            console.log(ex);\n        }\n    }\n\n    async function disconnect() {\n        try {\n            deactivate();\n        } catch (ex) {\n            console.log(ex);\n        }\n    }\n\n    useEffect(() => {\n        const web3 = new Web3(window.ethereum);\n        window.ethereum.enable().then(() => {\n            const contract = new web3.eth.Contract(abi, contractAddress);\n            contract.methods.current_diff().call((err, result) => {\n                if (err) {\n                    console.log(err)\n                } else {\n                    if (result == 0)\n                        setStatus(String('The guess game is not active'));\n                    else\n                        setStatus(String('Current difficulty: ' +  result));\n                }\n            })\n        });\n    }, []);\n\n    const onDiffChange = (e) => {\n        setDiff(e.target.value);\n    }\n\n    const onAmountChange = (e) => {\n        setAmount(Number(e.target.value));\n    }\n\n    const onSaltChange = (e) => {\n        setSalt(Number(e.target.value));\n    }\n\n    const start = async () => {\n        const web3 = new Web3(window.ethereum);\n        await window.ethereum.enable();\n\n        const contract = new web3.eth.Contract(abi, contractAddress);\n        contract.methods.newGuessGame(diff).send({\n            from: account,\n            value: amount * weiInEth,\n        }, function(error, transactionHash) {\n            if (error) {\n                alert('Error: ' + error)\n            } else {\n                alert('Tx hash: ' + transactionHash)\n            }\n        });\n    }\n\n    const guess = async () => {\n        const web3 = new Web3(window.ethereum);\n        await window.ethereum.enable();\n\n        const contract = new web3.eth.Contract(abi, contractAddress);\n        contract.methods.trySolve(salt).send({\n            from: account,\n        }, function(error, transactionHash) {\n            if (error) {\n                alert('Error: ' + error)\n            } else {\n                alert('Tx hash: ' + transactionHash)\n            }\n        });\n    }\n\n    return (\n        <div style={{ display: 'flex', flexDirection: 'column', width: '50%', justifyContent: 'center', textAlign: 'left', marginTop: '100px', backgroundColor: '#b0e5ff', padding: '50px', borderRadius: '35px' }}>\n            <span style={{ alignSelf: 'center' }}> {status} </span>\n            <span>Your address: {active ? <span style={{ alignSelf: 'flex-end' }}>{account}</span> : ''}</span>\n            <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-around' }}>\n                <button onClick={connect}>Connect</button>\n                <button onClick={disconnect}>Disconnect</button>\n            </div>\n            <p>Difficulty (between 1 and 4) </p>\n            <input type='text' onChange={onDiffChange} />\n            <p>ETH Amount(min 0.01 ETH)</p>\n            <input type='text' onChange={onAmountChange} />\n            <button style={{ width: '50%', alignSelf: 'center', margin: '10px', height: '45px', borderRadius: '15px' }} onClick={start}>Start game</button>\n            <p>Salt</p>\n            <input type='text' onChange={onSaltChange} />\n            <button style={{ width: '50%', alignSelf: 'center', margin: '10px', height: '45px', borderRadius: '15px' }} onClick={guess}>Guess!</button>\n        </div>\n    )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}